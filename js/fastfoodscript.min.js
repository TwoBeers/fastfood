var fastfoodAnimations;(function(a){fastfoodAnimations={init:function(b){var c=fastfoodAnimations.display_res();for(i in b){switch(b[i]){case"main_menu":if(c){this.main_menu()}break;case"navigation_buttons":if(c){this.navigation_buttons()}break;case"smooth_scroll":this.smooth_scroll();break;case"quickbar_panels":if(c){this.quickbar_panels()}break;case"entry_meta":this.entry_meta();a("body").on("post-load",function(d){fastfoodAnimations.entry_meta()});break;case"post_expander":this.post_expander();a("body").on("post-load",function(d){fastfoodAnimations.post_expander()});break;case"thickbox":this.thickbox();a("body").on("post-load",function(d){fastfoodAnimations.thickbox()});break;case"get_comments":this.get_comments();break;case"quote_this":this.quote_this();break;case"tinynav":this.tinynav();break;case"captions":this.captions();break;case"sticky_menu":if(c){this.sticky_menu()}break;default:break}}},display_res:function(){if(a(window).width()<988){return false}return true},main_menu:function(){a(".nav-menu.all-levels").children(".menu-item-parent").each(function(){var e=a(this);var f=e.children("ul");var b=50;var c=20;if(f.size()!==0){f.css({opacity:0,"margin-top":b});e.hoverIntent(function(){f.css({display:"block"}).animate({opacity:1,"margin-top":0},200,"easeOutBack")},function(){f.stop().animate({opacity:0,"margin-top":c},200,"swing",function(){f.css({display:"","margin-top":b})})})}})},navigation_buttons:function(){a("#navbuttons").children(".minibutton").each(function(){var c=a(this);var b=c.find("span.nb_tooltip");var d=61;b.css({opacity:0,right:d});c.hoverIntent(function(){b.css({display:"block"}).animate({opacity:0.9,right:41},200,"easeOutBack")},function(){b.stop().css({opacity:0,display:"",right:d})})})},smooth_scroll:function(){top_but=a('#navbuttons a[href="#"]');bot_but=a('#navbuttons a[href="#footer"]');top_but.hide();a(function(){a(window).scroll(function(){if(a(this).scrollTop()>100){top_but.fadeIn()}else{top_but.fadeOut()}if(a("body").height()-a(window).scrollTop()-a(window).height()<100){bot_but.fadeOut()}else{bot_but.fadeIn()}})});top_but.click(function(){a("html, body").animate({scrollTop:0},{duration:1000});return false});bot_but.click(function(){a("html, body").animate({scrollTop:a("#footer").offset().top-80},{duration:1000});return false})},quickbar_panels:function(){a("#quickbar").children(".menuitem").each(function(){var d=a(this);var c=d.children(".menuback");var b=d.children(".itemimg");b.removeClass("itemimg").addClass("itemimg_js");c.removeClass().addClass("menuback_js").css({height:0}).hide();d.hoverIntent(function(){if(a("#panel_user").hasClass("keepme")){return}c.stop().show().animate({height:250},500,"easeOutBack")},function(){if(a("#panel_user").hasClass("keepme")){return}c.stop().css({height:0,display:""}).hide()})});a(".login-submit").append(a("#closeminilogin"));a("#closeminilogin").css({display:"inline"});a("#closeminilogin").click(function(){a(".itemimg_js").fadeIn();a("#panel_user .menuback_js").css({display:"",height:0});a("#ff_minilogin_wrap").css({display:""});a("#panel_user").removeClass("keepme");return false});a("#ff-user_login").mousedown(function(){a("#ff_minilogin_wrap").css({display:"block"});a("#panel_user").addClass("keepme");a(".itemimg_js").fadeOut()})},entry_meta:function(){a("#posts_content").find(".top_meta").removeClass("top_meta").addClass("top_meta_js").children(".metafield").each(function(){var d=a(this);var c=d.children(".metafield_content");if(c.length==0){return}var b=d.parent();c.css({display:"block"}).hide();d.hoverIntent(function(){c.slideDown(200,"easeOutBack");b.addClass("meta_shadowed").css({"border-color":"#fff"})},function(){c.hide();b.removeClass("meta_shadowed").css({"border-color":""})})})},thickbox:function(){a("#posts_content").find(".entry-content a img").parent('a[href$=".jpg"],a[href$=".png"],a[href$=".gif"]').addClass("thickbox");a("#posts_content").find(".entry-content .gallery").each(function(){var b=a(this);a('a[href$=".jpg"],a[href$=".png"],a[href$=".gif"]',b).attr("rel",b.attr("id"))})},quote_this:function(){htmltext='<a id="tb-quotethis" href="#" onclick="fastfoodAnimations.add_quote(); return false" title="'+fastfood_l10n.quote_link_info+'" ><i class="el-icon-quotes"></i></a>';a(htmltext).insertBefore("#comment")},add_quote:function(){var b="";if(window.getSelection){b=window.getSelection()}else{if(document.getSelection){b=document.getSelection()}else{if(document.selection){b=document.selection.createRange().text}else{return true}}}b=b.toString().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;");if(b.length!==0){document.getElementById("comment").value=document.getElementById("comment").value+"<blockquote>"+b+"</blockquote>"}else{alert(fastfood_l10n.quote_link_alert)}},post_expander:function(){a("#posts_content").find("a.more-link").unbind().click(function(){var b=a(this);a.ajax({type:"POST",url:b.attr("href"),beforeSend:function(c){b.html(fastfood_l10n.post_expander_wait).addClass("ajaxed")},data:"ff_post_expander=1",success:function(c){b.parents(".entry-content").hide().html(a(c)).fadeIn(600)}});return false})},get_comments:function(){var b=a(".navigate_comments");b.find("a").click(function(){var c=a(this);a.ajax({type:"POST",url:c.attr("href"),beforeSend:function(d){c.addClass("ajaxed")},data:"ff_get_comments_page=1",success:function(d){a("#commentlist-wrap").html(a(d));fastfoodAnimations.get_comments()}});return false})},headerSlider:function(b){var c={speed:2000,pause:3000},b=a.extend(c,b);return a("#head-image.slider").each(function(){var h=a(this);var e=a("img",h);var g=e.parent();if(e.size()>1){d();timId=f()}function f(){timId=setInterval(function(){d()},(b.speed+b.pause));return timId}function d(){setTimeout(function(){h.find("img:last").fadeIn(b.speed,function(){a(this).prependTo(g).css("display","")})},b.pause)}})},tinynav:function(){a(".nav-menu").tinyNav({active:"current_page_item",label:"",header:""})},captions:function(){a("#main").find(".gallery-item").unbind().hoverIntent(function(){a(".gallery-caption",this).stop().slideDown()},function(){a(".gallery-caption",this).stop().slideUp()});a("#main").find(".wp-caption").each(function(){var c=a(this);var b=a(".wp-caption-text",this);b.css("display","block").hide();c.unbind().hoverIntent(function(){b.stop().slideDown(200)},function(){b.stop().slideUp(200)})})},sticky_menu:function(){var b=a("body"),g=a(window),f=a("#primary-menu-container"),d=f.height(),e,c;if(g.width()<988){return}e=b.is(".admin-bar")?a("#wpadminbar").height():0;c=f.offset().top-e;f.css("top",e);a('<div id="pages-placeholder"></div>').css("height",d).insertBefore(f);g.on("scroll",function(){if((window.scrollY>c)){b.addClass("fixed-menu")}else{b.removeClass("fixed-menu")}})}};a(document).ready(function(b){fastfoodAnimations.init(fastfood_l10n.script_modules)})})(jQuery);