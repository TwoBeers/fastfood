var fastfoodAnimations;(function(a){fastfoodAnimations={init:function(b){var c=b.split(",");for(i in c){switch(c[i]){case"main_menu":this.main_menu();break;case"navigation_buttons":this.navigation_buttons();break;case"quickbar_tools":this.quickbar_tools();break;case"quickbar_panels":this.quickbar_panels();break;case"entry_meta":this.entry_meta();break;case"widgets_style":this.widgets_style();break;case"post_expander":this.post_expander();break;case"thickbox":this.thickbox();break;case"quote_this":this.quote_this();break;default:break}}},main_menu:function(){a("#mainmenu").children("li").each(function(){var e=a(this).children("ul");var b=50;var c=20;if(e.size()!==0){a(this).children("a").append('<span class="hiraquo"> &#187;</span>');e.css({opacity:0,"margin-top":b});a(this).mouseenter(function(){e.css({display:"block"});e.animate({opacity:1,"margin-top":0},200,"easeOutBack")}).mouseleave(function(){e.stop();e.animate({opacity:0,"margin-top":c},200,"swing",function(){e.css({display:"","margin-top":b})})})}})},navigation_buttons:function(){a("#navbuttons").children(".minibutton").each(function(){var b=a(this).find("span.nb_tooltip");var c=60;b.css({opacity:0,right:c});a(this).mouseenter(function(){b.css({display:"block"});b.animate({opacity:1,right:23},200,"easeOutBack")}).mouseleave(function(){b.stop();b.css({opacity:0,display:"",right:c})})});top_but=a('#navbuttons a[href="#"] span');bot_but=a('#navbuttons a[href="#footer"] span');top_but.hide();a(function(){a(window).scroll(function(){if(a(this).scrollTop()>100){top_but.fadeIn()}else{top_but.fadeOut()}if(a("body").height()-a(window).scrollTop()-a(window).height()<100){bot_but.fadeOut()}else{bot_but.fadeIn()}})});top_but.click(function(){a("html, body").animate({scrollTop:0},{duration:1000});return false});bot_but.click(function(){a("html, body").animate({scrollTop:a("#footer").offset().top-80},{duration:1000});return false})},quickbar_tools:function(){a("#quickbar").children(".menutoolitem").each(function(){var c=a(this).find(".menutool");var b=120;c.css({opacity:0,left:b});a(this).mouseenter(function(){c.css({display:"block"});c.animate({opacity:1,left:50},200,"easeOutBack")}).mouseleave(function(){c.stop();c.css({opacity:0,display:"",left:b})})})},quickbar_panels:function(){a("#quickbar").children(".menuitem").each(function(){var c=a(this).children(".menuback");var b=a(this).children(".itemimg");b.removeClass("itemimg").addClass("itemimg_js");c.removeClass().addClass("menuback_js");c.css({height:0});a(this).mouseenter(function(){if(a("#user_menuback").hasClass("keepme")){return}c.stop();b.stop();c.animate({height:250},500,"easeOutBack");b.animate({width:55},200)}).mouseleave(function(){if(a("#user_menuback").hasClass("keepme")){return}c.stop();c.css({height:0,display:""});b.animate({width:50},300)})});a(".login-submit").append(a("#closeminilogin"));a("#closeminilogin").css({display:"inline"});a("#closeminilogin").click(function(){a(".itemimg_js").fadeIn();a("#user_menuback .menuback_js").css({display:"",height:0});a("#ff_minilogin_wrap").css({display:""});a("#user_menuback").removeClass("keepme");return false});a("#ff-user_login").mousedown(function(){a("#ff_minilogin_wrap").css({display:"block"});a("#user_menuback").addClass("keepme");a(".itemimg_js").fadeOut()})},entry_meta:function(){a(".top_meta").removeClass("top_meta").addClass("top_meta_js");a(".top_meta_js").children(".metafield").each(function(){var d=a(this).children(".metafield_content");var b=a(this).parent();d.css({opacity:0,display:"block"});var c=d.height();d.removeAttr("style");d.css({opacity:"",height:0,"padding-top":0,display:""});a(this).mouseenter(function(){d.animate({height:c,"padding-top":25},200,"easeOutBack");b.addClass("meta_shadowed");b.css({"border-color":"#fff"})}).mouseleave(function(){d.stop();d.css({display:"",height:0,"padding-top":0});b.removeClass("meta_shadowed");b.css({"border-color":""})})})},widgets_style:function(){a("#post-widgets-area .widget:nth-child(odd)").css("clear","left");a("#header-widget-area .widget:nth-child(3n+1)").css("clear","right");a("#error404-widgets-area .widget:nth-child(odd)").css("clear","left")},thickbox:function(){a(".storycontent a img").parent('a[href$=".jpg"],a[href$=".png"],a[href$=".gif"]').addClass("thickbox");a(".storycontent .gallery").each(function(){a('a[href$=".jpg"],a[href$=".png"],a[href$=".gif"]',a(this)).attr("rel",a(this).attr("id"))})},quote_this:function(){htmltext='<a id="tb-quotethis" href="#" onclick="fastfoodAnimations.add_quote(); return false" title="'+fastfood_l10n.quote_link_info+'" >&nbsp;</a>';a(htmltext).insertBefore("#comment")},add_quote:function(){var b="";if(window.getSelection){b=window.getSelection()}else{if(document.getSelection){b=document.getSelection()}else{if(document.selection){b=document.selection.createRange().text}else{return true}}}b=b.toString().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;");if(b.length!==0){document.getElementById("comment").value=document.getElementById("comment").value+"<blockquote>"+b+"</blockquote>"}else{alert(fastfood_l10n.quote_link_alert)}},post_expander:function(){a("a.more-link").click(function(){var b=a(this);a.ajax({type:"POST",url:b.attr("href"),beforeSend:function(c){b.html(fastfood_l10n.post_expander_wait).addClass("ajaxed")},data:"ff_post_expander=1",success:function(c){b.parents(".storycontent").hide().html(a(c)).fadeIn(600)}});return false})},headerSlider:function(b){var c={speed:2000,pause:3000},b=a.extend(c,b);return a("#slide-head").each(function(){var e=a(this);a("img",e).css("display","");if(e.children().size()>1){timId=d()}function d(){timId=setInterval(function(){e.children(":last").fadeOut(b.speed,function(){a(this).prependTo(e).show()})},(b.speed+b.pause));return timId}})}};a(document).ready(function(b){fastfoodAnimations.init(fastfood_l10n.script_modules)})})(jQuery);