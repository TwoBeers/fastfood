var fastfoodAnimations;(function(a){fastfoodAnimations={init:function(b){var c=b.split(",");for(i in c){switch(c[i]){case"main_menu":this.main_menu();break;case"navigation_buttons":this.navigation_buttons();break;case"smooth_scroll":this.smooth_scroll();break;case"quickbar_tools":this.quickbar_tools();break;case"quickbar_panels":this.quickbar_panels();break;case"entry_meta":this.entry_meta();a("body").on("post-load",function(d){fastfoodAnimations.entry_meta()});break;case"post_expander":this.post_expander();a("body").on("post-load",function(d){fastfoodAnimations.post_expander()});break;case"thickbox":this.thickbox();a("body").on("post-load",function(d){fastfoodAnimations.thickbox()});break;case"quote_this":this.quote_this();break;case"tinynav":this.tinynav();break;case"captions":this.captions();break;default:break}}},main_menu:function(){a("#mainmenu").children(".menu-item-parent").each(function(){var e=a(this);var f=e.children("ul");var b=50;var c=20;if(f.size()!==0){f.css({opacity:0,"margin-top":b});e.hoverIntent(function(){f.css({display:"block"}).animate({opacity:1,"margin-top":0},200,"easeOutBack")},function(){f.stop().animate({opacity:0,"margin-top":c},200,"swing",function(){f.css({display:"","margin-top":b})})})}})},navigation_buttons:function(){a("#navbuttons").children(".minibutton").each(function(){var c=a(this);var b=c.find("span.nb_tooltip");var d=60;b.css({opacity:0,right:d});c.hoverIntent(function(){b.css({display:"block"}).animate({opacity:0.9,right:23},200,"easeOutBack")},function(){b.stop().css({opacity:0,display:"",right:d})})})},smooth_scroll:function(){top_but=a('#navbuttons a[href="#"] span');bot_but=a('#navbuttons a[href="#footer"] span');top_but.hide();a(function(){a(window).scroll(function(){if(a(this).scrollTop()>100){top_but.fadeIn()}else{top_but.fadeOut()}if(a("body").height()-a(window).scrollTop()-a(window).height()<100){bot_but.fadeOut()}else{bot_but.fadeIn()}})});top_but.click(function(){a("html, body").animate({scrollTop:0},{duration:1000});return false});bot_but.click(function(){a("html, body").animate({scrollTop:a("#footer").offset().top-80},{duration:1000});return false})},quickbar_tools:function(){a("#quickbar").children(".menutoolitem").each(function(){var d=a(this);var c=d.find(".menutool");var b=120;c.css({opacity:0,left:b});d.hoverIntent(function(){c.css({display:"block"}).animate({opacity:1,left:50},200,"easeOutBack")},function(){c.stop().css({opacity:0,display:"",left:b})})})},quickbar_panels:function(){a("#quickbar").children(".menuitem").each(function(){var d=a(this);var c=d.children(".menuback");var b=d.children(".itemimg");b.removeClass("itemimg").addClass("itemimg_js");c.removeClass().addClass("menuback_js").css({height:0}).hide();d.hoverIntent(function(){if(a("#user_menuback").hasClass("keepme")){return}c.stop().show().animate({height:250},500,"easeOutBack");b.stop().animate({width:55},200)},function(){if(a("#user_menuback").hasClass("keepme")){return}c.stop().css({height:0,display:""}).hide();b.animate({width:50},300)})});a(".login-submit").append(a("#closeminilogin"));a("#closeminilogin").css({display:"inline"});a("#closeminilogin").click(function(){a(".itemimg_js").fadeIn();a("#user_menuback .menuback_js").css({display:"",height:0});a("#ff_minilogin_wrap").css({display:""});a("#user_menuback").removeClass("keepme");return false});a("#ff-user_login").mousedown(function(){a("#ff_minilogin_wrap").css({display:"block"});a("#user_menuback").addClass("keepme");a(".itemimg_js").fadeOut()})},entry_meta:function(){a("#posts_content").find(".top_meta").removeClass("top_meta").addClass("top_meta_js").children(".metafield").each(function(){var d=a(this);var c=d.children(".metafield_content");var b=d.parent();c.css({display:"block"}).hide();d.hoverIntent(function(){c.slideDown(200,"easeOutBack");b.addClass("meta_shadowed").css({"border-color":"#fff"})},function(){c.hide();b.removeClass("meta_shadowed").css({"border-color":""})})})},thickbox:function(){a("#posts_content").find(".storycontent a img").parent('a[href$=".jpg"],a[href$=".png"],a[href$=".gif"]').addClass("thickbox");a("#posts_content").find(".storycontent .gallery").each(function(){var b=a(this);a('a[href$=".jpg"],a[href$=".png"],a[href$=".gif"]',b).attr("rel",b.attr("id"))})},quote_this:function(){htmltext='<a id="tb-quotethis" href="#" onclick="fastfoodAnimations.add_quote(); return false" title="'+fastfood_l10n.quote_link_info+'" >&nbsp;</a>';a(htmltext).insertBefore("#comment")},add_quote:function(){var b="";if(window.getSelection){b=window.getSelection()}else{if(document.getSelection){b=document.getSelection()}else{if(document.selection){b=document.selection.createRange().text}else{return true}}}b=b.toString().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;");if(b.length!==0){document.getElementById("comment").value=document.getElementById("comment").value+"<blockquote>"+b+"</blockquote>"}else{alert(fastfood_l10n.quote_link_alert)}},post_expander:function(){a("#posts_content").find("a.more-link").unbind().click(function(){var b=a(this);a.ajax({type:"POST",url:b.attr("href"),beforeSend:function(c){b.html(fastfood_l10n.post_expander_wait).addClass("ajaxed")},data:"ff_post_expander=1",success:function(c){b.parents(".storycontent").hide().html(a(c)).fadeIn(600)}});return false})},headerSlider:function(b){var c={speed:2000,pause:3000},b=a.extend(c,b);return a("#slide-head").each(function(){var e=a(this);a("img",e).css("display","");if(e.children().size()>1){timId=d()}function d(){timId=setInterval(function(){e.children(":last").fadeOut(b.speed,function(){a(this).prependTo(e).show()})},(b.speed+b.pause));return timId}})},tinynav:function(){a(".nav-menu").tinyNav({active:"current_page_item",label:"",header:""})},captions:function(){a("#content").find(".wp-caption").each(function(){var c=a(this);var b=a(".wp-caption-text",this);b.css("display","block");c.unbind().hoverIntent(function(){b.slideUp(200)},function(){b.slideDown(200)})})}};a(document).ready(function(b){fastfoodAnimations.init(fastfood_l10n.script_modules)})})(jQuery);